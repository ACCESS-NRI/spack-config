packages:
  # Completely ignoring lower-precedence configuration options is supported with the :: notation for keys
  mpi::
    require: cray-mpich
  perl:
    externals:
    - spec: perl@5.26.1
      prefix: /usr
    buildable: false
  cmake:
    externals:
    - spec: cmake@3.27.7
      prefix: /software/setonix/2024.05/software/linux-sles15-zen3/gcc-12.2.0/cmake-3.27.7-ylzyjfdeksq6jhz63zyo3qixmhm6t4kx/
      modules: [cmake/3.27.7]
    buildable: true
  libtool:
    version: [:2.4.6]
  openmpi:
    version: [4.1.1:]
  # From https://github.com/PawseySC/pawsey-spack-config/
  # systems/setonix/configs/site/packages.yaml
  cray-mpich:
    externals:
    - spec: cray-mpich@8.1.30%gcc
      modules:
      - cray-mpich/8.1.30
      - craype-network-ofi
      prefix: /opt/cray/pe/mpich/8.1.30/ofi/gnu/12.3
    - spec: cray-mpich@8.1.30%cce
      modules:
      - cray-mpich/8.1.30
      - craype-network-ofi
      prefix: /opt/cray/pe/mpich/8.1.30/ofi/crayclang/17.0
    - spec: cray-mpich@8.1.30%aocc
      modules:
      - cray-mpich/8.1.30
      - craype-network-ofi
      prefix: /opt/cray/pe/mpich/8.1.30/ofi/aocc/4.1
    buildable: false
